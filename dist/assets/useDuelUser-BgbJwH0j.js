import{r as l}from"./vendor-ui-CN8WKm1l.js";import{h as u,j as c,v as d}from"./index-gDkUcazU.js";const f="techmasterai_user";function g(){const{user:e,firebaseUser:m}=u(),[r,t]=l.useState(null),s=()=>{const o=localStorage.getItem(f);if(!o){t(null);return}try{const a=JSON.parse(o);a?.email?t({name:a.name??a.email??"Player",email:a.email}):t(null)}catch{t(null)}};l.useEffect(()=>(s(),window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)),[]);const n=c()||m?.photoURL||void 0,i=d();return e?{id:e.id,username:e.username,email:e.email,photo:n,gender:i}:r?{id:r.email,username:r.name,email:r.email,photo:n,gender:i}:null}export{g as u};
