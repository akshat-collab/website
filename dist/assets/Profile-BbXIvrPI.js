import{r as i,j as e}from"./vendor-ui-CN8WKm1l.js";import{c as b,u as c,H as v,U as x,M as y,F as j}from"./index-gDkUcazU.js";import N from"./FloatingLines-3opdz71x.js";import{a as w}from"./vendor-react-Bte3Nn5F.js";import{C as S}from"./camera-CoU7fvTc.js";import{P as C}from"./phone-2soJCuaU.js";import{A as P}from"./arrow-left-Cpu3jsbt.js";const D=b("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),O=()=>{const o=w(),[m,d]=i.useState(!1),[s,n]=i.useState({name:"",email:"",phone:"",photo:""}),[h,u]=i.useState("");i.useEffect(()=>{const r=localStorage.getItem("techmasterai_user");if(!r){c.error("Please login to access your profile"),o("/login");return}try{const t=JSON.parse(r);n({name:t.name||"",email:t.email||"",phone:t.phone||"",photo:t.photo||""}),u(t.photo||"")}catch{o("/login")}},[o]);const f=r=>{const t=r.target.files?.[0];if(t){if(t.size>2*1024*1024){c.error("Image size should be less than 2MB");return}if(!t.type.startsWith("image/")){c.error("Please select an image file");return}const l=new FileReader;l.onloadend=()=>{const a=l.result;u(a),n({...s,photo:a})},l.readAsDataURL(t)}},p=r=>{const{name:t,value:l}=r.target;if(t==="phone"){const a=l.replace(/\D/g,"");a.length<=10&&n({...s,[t]:a})}else n({...s,[t]:l})},g=async r=>{r.preventDefault(),d(!0),await new Promise(a=>setTimeout(a,1e3)),localStorage.setItem("techmasterai_user",JSON.stringify(s));const l=JSON.parse(localStorage.getItem("techmasterai_users")||"[]").map(a=>a.email===s.email?{...a,...s,updatedAt:new Date().toISOString()}:a);localStorage.setItem("techmasterai_users",JSON.stringify(l)),d(!1),c.success("Profile updated successfully!"),window.dispatchEvent(new Event("storage"))};return e.jsxs("div",{className:"min-h-screen flex flex-col bg-background scanline",children:[e.jsx(v,{}),e.jsxs("main",{className:"flex-1 flex items-center justify-center px-4 pt-32 pb-16 relative overflow-hidden",children:[e.jsx(N,{enabledWaves:["top","middle","bottom"],lineCount:5,lineDistance:5}),e.jsx("div",{className:"absolute inset-0 cyber-grid opacity-30",style:{zIndex:1}}),e.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-float",style:{zIndex:2}}),e.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-64 h-64 bg-secondary/10 rounded-full blur-3xl animate-float",style:{animationDelay:"1s",zIndex:2}}),e.jsxs("div",{className:"relative z-10 w-full max-w-2xl",children:[e.jsxs("div",{className:"glass-panel neon-border rounded-lg p-8 relative",style:{boxShadow:"0 0 20px rgba(0, 194, 255, 0.5), 0 0 40px rgba(0, 194, 255, 0.3), 0 0 60px rgba(0, 194, 255, 0.15)"},children:[e.jsx("h1",{className:"font-orbitron text-3xl font-bold text-center theme-accent mb-2",children:"User Profile"}),e.jsx("p",{className:"font-rajdhani text-center theme-text-secondary mb-8",children:"Manage your account information"}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 transition-all duration-300",style:{borderColor:"var(--theme-accent)",background:"var(--theme-card-hover-bg)"},children:h?e.jsx("img",{src:h,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(x,{className:"w-16 h-16",style:{color:"var(--theme-accent)",opacity:.5}})})}),e.jsxs("label",{htmlFor:"photo-upload",className:"absolute bottom-0 right-0 w-10 h-10 rounded-full flex items-center justify-center cursor-pointer transition-all duration-200 hover:scale-110",style:{background:"var(--theme-accent)",boxShadow:"0 0 10px var(--theme-glow-secondary)"},children:[e.jsx(S,{className:"w-5 h-5 text-white"}),e.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",onChange:f,className:"hidden"})]})]}),e.jsx("p",{className:"mt-3 text-xs theme-text-secondary text-center",children:"Click camera icon to upload photo (Max 2MB)"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(x,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 transition-colors",style:{color:"var(--theme-accent)",opacity:.5}}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:p,placeholder:"Full Name",required:!0,className:"w-full pl-12 pr-4 py-4 theme-input rounded-lg font-rajdhani text-lg",style:{color:"var(--theme-text-primary)"}})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(y,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 transition-colors",style:{color:"var(--theme-accent)",opacity:.5}}),e.jsx("input",{type:"email",name:"email",value:s.email,readOnly:!0,className:"w-full pl-12 pr-4 py-4 theme-input rounded-lg font-rajdhani text-lg opacity-60 cursor-not-allowed",style:{color:"var(--theme-text-primary)"}}),e.jsx("p",{className:"mt-1 text-xs theme-text-secondary ml-12",children:"Email cannot be changed"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(C,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 transition-colors",style:{color:"var(--theme-accent)",opacity:.5}}),e.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:p,placeholder:"Phone Number (10 digits)",maxLength:10,pattern:"[0-9]{10}",className:"w-full pl-12 pr-4 py-4 theme-input rounded-lg font-rajdhani text-lg",style:{color:"var(--theme-text-primary)"}})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full py-4 theme-button-primary rounded-lg flex items-center justify-center gap-3 disabled:opacity-50 font-rajdhani font-semibold text-lg",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-5 h-5"}),e.jsx("span",{children:"Save Changes"})]})})]}),e.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2",style:{borderColor:"var(--theme-accent)"}}),e.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2",style:{borderColor:"var(--theme-accent)"}}),e.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2",style:{borderColor:"var(--theme-accent)"}}),e.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2",style:{borderColor:"var(--theme-accent)"}})]}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("button",{onClick:()=>o("/"),className:"inline-flex items-center gap-2 theme-text-secondary hover:theme-accent transition-all duration-200 font-rajdhani text-sm group",children:[e.jsx(P,{className:"w-4 h-4 transition-transform duration-200 group-hover:-translate-x-1"}),e.jsx("span",{className:"group-hover:underline",children:"Back to Home"})]})})]})]}),e.jsx(j,{})]})};export{O as default};
