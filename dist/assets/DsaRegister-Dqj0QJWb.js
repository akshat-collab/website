import{r as f,j as e}from"./vendor-ui-CN8WKm1l.js";import{a as g,L as w}from"./vendor-react-Bte3Nn5F.js";import{u as y,F as b,a,b as n,c as o,d as t,e as l,t as N,o as v,f as F,s as i}from"./form-Brl-6CtM.js";import{h as C,I as d,d as P,s as S,u as h}from"./index-gDkUcazU.js";const I=v({username:i().min(2,"Username must be at least 2 characters"),email:i().min(1,"Email is required").email("Invalid email"),password:i().min(6,"Password must be at least 6 characters"),confirmPassword:i().min(1,"Confirm password"),gender:F(["male","female"],{required_error:"Select your gender"})}).refine(c=>c.password===c.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function A(){const c=g(),{register:p}=C(),[m,x]=f.useState(!1),r=y({resolver:N(I),defaultValues:{username:"",email:"",password:"",confirmPassword:"",gender:void 0}});async function j(s){x(!0);try{S(s.gender);const u=await p(s.username,s.email,s.password);u.success?(h.success("Account created. Welcome!"),c("/dsa/dashboard",{replace:!0})):h.error(u.error??"Registration failed")}finally{x(!1)}}return e.jsx("div",{className:"flex flex-1 items-center justify-center p-6",children:e.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Create account"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Username, email, and password to get started."})]}),e.jsx(b,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(j),className:"space-y-4",children:[e.jsx(a,{control:r.control,name:"username",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Username"}),e.jsx(t,{children:e.jsx(d,{placeholder:"johndoe",...s})}),e.jsx(l,{})]})}),e.jsx(a,{control:r.control,name:"email",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Email"}),e.jsx(t,{children:e.jsx(d,{type:"email",placeholder:"you@example.com",...s})}),e.jsx(l,{})]})}),e.jsx(a,{control:r.control,name:"password",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Password"}),e.jsx(t,{children:e.jsx(d,{type:"password",placeholder:"••••••••",...s})}),e.jsx(l,{})]})}),e.jsx(a,{control:r.control,name:"confirmPassword",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Confirm password"}),e.jsx(t,{children:e.jsx(d,{type:"password",placeholder:"••••••••",...s})}),e.jsx(l,{})]})}),e.jsx(a,{control:r.control,name:"gender",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"I am"}),e.jsx(t,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",value:"male",checked:s.value==="male",onChange:()=>s.onChange("male"),className:"rounded-full border-primary"}),e.jsx("span",{children:"Male"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",value:"female",checked:s.value==="female",onChange:()=>s.onChange("female"),className:"rounded-full border-primary"}),e.jsx("span",{children:"Female"})]})]})}),e.jsx(l,{})]})}),e.jsx(P,{type:"submit",className:"w-full",disabled:m,children:m?"Creating account…":"Register"})]})}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(w,{to:"/dsa/login",className:"text-primary hover:underline",children:"Log in"})]})]})})}export{A as default};
