import{r as s,j as e}from"./vendor-ui-CN8WKm1l.js";import{d as w,g as S}from"./index-gDkUcazU.js";import{A as E}from"./AstroType-DTyWrezA.js";import"./vendor-react-Bte3Nn5F.js";import"./select-DoADUCMx.js";import"./arrow-left-Cpu3jsbt.js";const B={newbie:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O"],mid:["cat","dog","run","key","code","type","fast","test","loop","var","let","map","get","set"],pro:["function","variable","algorithm","recursion","polymorphism","encapsulation","implementation"]};function F({difficulty:a,onClose:h}){const[r,n]=s.useState([]),[l,u]=s.useState(80),[k,v]=s.useState(0),[d,C]=s.useState(0),[o,b]=s.useState(""),[c,p]=s.useState("playing"),[T,g]=s.useState(!1),A=s.useRef(null);s.useRef();const y=B[a],f=s.useCallback(()=>{const t=[];let m=40;const j=180;for(let x=0;x<12;x++){const N=y[x%y.length];t.push({id:x,x:m,y:j-x%3*28,width:Math.max(60,N.length*10),text:N}),m+=70+N.length*4}n(t),u(80),v(t[0]?t[0].y-20:0),C(0),b(""),p("playing"),g(!1)},[y]);s.useEffect(()=>{f()},[f]),s.useEffect(()=>{if(c!=="playing"||T||d>=r.length)return;const t=r[d];if(!t)return;const m=t.text.toLowerCase();o.toLowerCase()===m?(g(!0),b(""),u(t.x+t.width/2-10),v(t.y-20),setTimeout(()=>{C(j=>j+1),g(!1),d+1>=r.length&&p("win")},200)):m.startsWith(o.toLowerCase())===!1&&o.length>0&&p("fall")},[o,d,r,c,T]);const i=r[d],L=i&&o.length>0&&!i.text.toLowerCase().startsWith(o.toLowerCase());return e.jsx("div",{ref:A,className:"relative rounded-xl border border-white/10 bg-[#0f1116] overflow-hidden font-sans",style:{width:360,height:280},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center px-3 py-1.5 border-b border-white/10",children:[e.jsx("span",{className:"text-cyan-400 text-sm font-semibold",children:"Bridge Jump"}),e.jsx(w,{variant:"ghost",size:"sm",className:"h-7 text-slate-400",onClick:h,children:"Close"})]}),e.jsxs("div",{className:"relative flex-1 bg-gradient-to-b from-[#0a0c10] to-[#12151c]",style:{minHeight:200},children:[c==="fall"&&e.jsxs("div",{className:"absolute inset-0 bg-red-500/20 flex items-center justify-center z-10",children:[e.jsx("p",{className:"text-red-400 font-semibold",children:"Stumble! Try again."}),e.jsx(w,{size:"sm",className:"ml-2",onClick:f,children:"Retry"})]}),c==="win"&&e.jsxs("div",{className:"absolute inset-0 bg-cyan-500/20 flex items-center justify-center z-10",children:[e.jsx("p",{className:"text-cyan-400 font-semibold",children:"You made it!"}),e.jsx(w,{size:"sm",className:"ml-2",onClick:f,children:"Again"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-cyan-900/40 to-transparent"}),r.map(t=>e.jsx("div",{className:"absolute rounded-md border border-cyan-500/50 bg-cyan-500/10 flex items-center justify-center text-cyan-300 text-xs font-mono",style:{left:t.x,top:t.y,width:t.width,height:22,boxShadow:"0 0 12px rgba(34, 211, 238, 0.2)"},children:t.text},t.id)),e.jsx("div",{className:S("absolute w-5 h-6 rounded-sm bg-cyan-400 flex items-center justify-center text-[10px] font-bold text-[#0f1116] transition-all duration-150",L&&"bg-red-400 animate-pulse"),style:{left:l,top:k,boxShadow:"0 0 14px rgba(34, 211, 238, 0.5)"},children:"?"})]}),e.jsxs("div",{className:"px-3 py-2 border-t border-white/10 bg-[#1E2026]",children:[e.jsx("p",{className:"text-slate-500 text-xs mb-1",children:"Type the word on the next platform:"}),e.jsx("input",{type:"text",value:o,onChange:t=>b(t.target.value),onKeyDown:t=>t.key==="Enter"&&i&&o.toLowerCase()===i.text.toLowerCase()&&b(""),placeholder:i?i.text:"",className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/20 text-white text-sm font-mono focus:outline-none focus:ring-2 focus:ring-cyan-500",autoFocus:!0,readOnly:c!=="playing",autoComplete:"off"})]})]})})}const P=[{id:"newbie",label:"Newbie"},{id:"mid",label:"Mid"},{id:"pro",label:"Pro"}];function W(){const[a,h]=s.useState("newbie"),[r,n]=s.useState(null);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-1",children:[e.jsx("h1",{className:"text-2xl font-medium text-foreground",children:"Type Forge"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Test your typing skills and practice here."})]}),e.jsx("div",{className:"h-px bg-border"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-medium text-primary mb-1",children:"Fun"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Typing-driven games. Select a difficulty, then pick a game."}),e.jsx("div",{className:"inline-flex h-10 p-0.5 rounded-lg bg-muted/50 border border-border gap-0 mb-6",children:P.map(({id:l,label:u})=>e.jsx("button",{type:"button",onClick:()=>h(l),className:S("px-4 py-2 text-sm font-semibold rounded-md transition-all duration-150",a===l&&"bg-primary/20 text-primary border-b-2 border-primary",a!==l&&"text-muted-foreground hover:text-foreground"),children:u},l))}),r===null&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-2xl",children:[e.jsxs("button",{type:"button",onClick:()=>n("bridge"),className:"rounded-xl border border-border bg-card p-6 text-left hover:border-primary/40 hover:bg-primary/5 transition-all duration-150",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary mb-1",children:"Bridge Jump"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Type letters or words on platforms to jump. Wrong input = stumble; miss = fall."})]}),e.jsxs("button",{type:"button",onClick:()=>n("astro"),className:"rounded-xl border border-border bg-card p-6 text-left hover:border-primary/40 hover:bg-primary/5 transition-all duration-150",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary mb-1",children:"Astro Type"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Type the word on each asteroid to shoot it. Speed increases with difficulty."})]})]}),r==="bridge"&&e.jsx("div",{className:"flex flex-col items-start gap-2",children:e.jsx(F,{difficulty:a,onClose:()=>n(null)})}),r==="astro"&&e.jsxs("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[e.jsx("div",{className:"p-2 border-b border-border flex justify-end",children:e.jsx("button",{type:"button",className:"text-muted-foreground hover:text-foreground text-sm",onClick:()=>n(null),children:"Close"})}),e.jsx("div",{className:"min-h-[400px]",children:e.jsx(E,{difficulty:a})})]})]})]})}export{W as default};
