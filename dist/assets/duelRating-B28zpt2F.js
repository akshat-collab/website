const a="dsa_duel_rating",s="dsa_duel_stats";const i=[{name:"Unranked",color:"text-slate-400",minRating:0,icon:"â€”"},{name:"Bronze III",color:"text-amber-700",minRating:900,icon:"ðŸ¥‰"},{name:"Bronze II",color:"text-amber-600",minRating:950,icon:"ðŸ¥‰"},{name:"Bronze I",color:"text-amber-500",minRating:1e3,icon:"ðŸ¥‰"},{name:"Silver III",color:"text-slate-300",minRating:1050,icon:"ðŸ¥ˆ"},{name:"Silver II",color:"text-slate-200",minRating:1100,icon:"ðŸ¥ˆ"},{name:"Silver I",color:"text-white",minRating:1150,icon:"ðŸ¥ˆ"},{name:"Gold III",color:"text-yellow-500",minRating:1200,icon:"ðŸ…"},{name:"Gold II",color:"text-yellow-400",minRating:1300,icon:"ðŸ…"},{name:"Gold I",color:"text-yellow-300",minRating:1400,icon:"ðŸ…"},{name:"Platinum",color:"text-cyan-400",minRating:1500,icon:"ðŸ’Ž"},{name:"Diamond",color:"text-blue-400",minRating:1700,icon:"ðŸ’ "},{name:"Master",color:"text-purple-400",minRating:2e3,icon:"ðŸ‘‘"}];function r(){try{const n=localStorage.getItem(a);if(n==null)return 1e3;const o=parseInt(n,10);return Number.isNaN(o)?1e3:Math.max(0,o)}catch{return 1e3}}function m(n){const o=n??r();let e=i[0];for(const t of i)o>=t.minRating&&(e=t);return e}function c(){try{const n=localStorage.getItem(s);return n?JSON.parse(n):{wins:0,losses:0,streak:0,bestStreak:0,history:[]}}catch{return{wins:0,losses:0,streak:0,bestStreak:0,history:[]}}}function l(n){n.history.length>50&&(n.history=n.history.slice(-50)),localStorage.setItem(s,JSON.stringify(n))}function I(n="Opponent"){const e=r()+10;localStorage.setItem(a,String(e));const t=c();return t.wins++,t.streak=Math.max(0,t.streak)+1,t.bestStreak=Math.max(t.bestStreak,t.streak),t.history.push({result:"win",rating:e,opponent:n,timestamp:Date.now()}),l(t),e}function u(n="Opponent"){const o=r(),e=Math.max(0,o-5);localStorage.setItem(a,String(e));const t=c();return t.losses++,t.streak=Math.min(0,t.streak)-1,t.history.push({result:"loss",rating:e,opponent:n,timestamp:Date.now()}),l(t),e}function g(){return 10}export{m as a,c as b,I as c,g as d,u as e,r as g};
